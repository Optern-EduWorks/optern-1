<div class="dashboard-container">
    <!-- Header Section -->
    <header class="dashboard-header">
        <div>
            <h2>Welcome back, {{ userName }}! üëã</h2>
            <p>Here's what's happening with your job search today.</p>
        </div>
        <div class="status-indicator">
            <span class="status-dot"></span>
            Active
        </div>
    </header>

    <!-- Stats Cards Section -->
    <div class="stats-grid" *ngIf="!isLoading">
        <div class="stat-card blue">
            <div class="card-content">
                <i class="bi bi-broadcast card-icon"></i>
                <span class="card-value">{{ stats.totalOpportunities || 0 }}</span>
                <span class="card-label">Total Opportunities</span>
            </div>
            <div class="card-progress">
                <div class="progress-bar" [style.width.%]="(stats.totalOpportunities || 0) * 10"></div>
                <span class="progress-label">{{ (stats.totalOpportunities || 0) * 10 }}%</span>
            </div>
        </div>
        <div class="stat-card green">
            <div class="card-content">
                <i class="bi bi-check2-circle card-icon"></i>
                <span class="card-value">{{ stats.appliedJobs || 0 }}</span>
                <span class="card-label">Applied Jobs</span>
            </div>
            <div class="card-progress">
                <div class="progress-bar" [style.width.%]="(stats.appliedJobs || 0) * 8"></div>
                <span class="progress-label">{{ (stats.appliedJobs || 0) * 8 }}%</span>
            </div>
        </div>
        <div class="stat-card purple">
            <div class="card-content">
                <i class="bi bi-bookmark-check card-icon"></i>
                <span class="card-value">{{ stats.approvedApplications || 0 }}</span>
                <span class="card-label">Approved</span>
            </div>
            <div class="card-progress">
                <div class="progress-bar" [style.width.%]="(stats.approvedApplications || 0) * 25"></div>
                <span class="progress-label">{{ (stats.approvedApplications || 0) * 25 }}%</span>
            </div>
        </div>
        <div class="stat-card orange">
            <div class="card-content">
                <i class="bi bi-clock-history card-icon"></i>
                <span class="card-value">{{ stats.inReviewApplications || 0 }}</span>
                <span class="card-label">In Review</span>
            </div>
            <div class="card-progress">
                <!-- No progress bar for this one in the design -->
            </div>
        </div>
    </div>

    <!-- Loading State -->
    <div class="stats-grid" *ngIf="isLoading">
        <div class="stat-card blue">
            <div class="card-content">
                <div class="loading-spinner"></div>
                <span class="card-label">Loading...</span>
            </div>
        </div>
    </div>

    <!-- Main Content Grid -->
    <div class="main-content-grid">
        <!-- Recent Activities Card -->
        <div class="content-card">
            <div class="card-header">
                <h3>Recent Activities</h3>
            </div>
            <ul class="activity-list">
                <li class="activity-item" *ngFor="let activity of activities">
                    <div class="activity-content">
                        <div class="activity-title">{{ activity.title }}</div>
                        <div class="activity-description">{{ activity.description }}</div>
                        <div class="activity-meta">
                            <span class="activity-time">{{ activity.timeAgo }}</span>
                        </div>
                    </div>
                    <span class="status-badge" [ngClass]="activity.status.toLowerCase().replace(' ', '-') + '-badge'">{{ activity.status }}</span>
                </li>
                <li class="activity-item" *ngIf="activities.length === 0 && !isLoading">
                    <div class="activity-content">
                        <div class="activity-title">No recent activities</div>
                        <div class="activity-description">Start applying to jobs to see your activity here</div>
                    </div>
                </li>
            </ul>
        </div>

        <!-- Announcements Card -->
        <div class="content-card">
            <div class="card-header">
                <h3>Announcements</h3>
            </div>
            <ul class="announcement-list">
                <li class="announcement-item" *ngFor="let announcement of announcements">
                    <div class="announcement-content">
                        <div class="announcement-title">{{ announcement.title }}</div>
                        <div class="announcement-subtitle">{{ announcement.subtitle }}</div>
                        <div class="announcement-meta">
                            <span class="announcement-time">{{ announcement.timeAgo }}</span>
                        </div>
                    </div>
                    <span class="status-badge" [ngClass]="announcement.type + '-badge'">{{ announcement.type }}</span>
                </li>
                <li class="announcement-item" *ngIf="announcements.length === 0 && !isLoading">
                    <div class="announcement-content">
                        <div class="announcement-title">No announcements</div>
                        <div class="announcement-subtitle">Check back later for updates</div>
                    </div>
                </li>
            </ul>
        </div>
    </div>

    <!-- Quick Actions Section -->
    <div class="content-card quick-actions-card">
        <div class="card-header">
            <h3>Quick Actions</h3>
        </div>
        <p class="quick-actions-subtitle">Access key features of your candidate portal</p>
        <div class="actions-grid">
            <div class="action-item" routerLink="/candidate/resume-builder">
                <div class="action-icon blue"><i class="bi bi-file-earmark-richtext"></i></div>
                <div class="action-details">
                    <p class="action-title">Build Resume</p>
                    <p class="action-description">Create and customize your professional resume</p>
                </div>
            </div>
            <div class="action-item" routerLink="/candidate/opportunities">
                <div class="action-icon green"><i class="bi bi-search"></i></div>
                <div class="action-details">
                    <p class="action-title">Find Jobs</p>
                    <p class="action-description">Browse and apply to latest job opportunities</p>
                </div>
            </div>
            <div class="action-item" routerLink="/candidate/applications">
                <div class="action-icon orange"><i class="bi bi-send-check"></i></div>
                <div class="action-details">
                    <p class="action-title">My Applications</p>
                    <p class="action-description">Track the status of your job applications</p>
                </div>
            </div>
            <div class="action-item" routerLink="/candidate/grievances">
                <div class="action-icon purple"><i class="bi bi-headset"></i></div>
                <div class="action-details">
                    <p class="action-title">Get Support</p>
                    <p class="action-description">Contact support for assistance</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Achievement Banner -->
    <div class="achievement-banner">
        <div class="achievement-icon">üèÜ</div>
        <div class="achievement-details">
            <p class="achievement-title">Achievement Unlocked!</p>
            <p class="achievement-description">You've applied to {{ stats.appliedJobs || 0 }} jobs this month. Keep up the great work! üéâ</p>
        </div>
    </div>
</div>
