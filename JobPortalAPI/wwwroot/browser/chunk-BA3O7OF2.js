import{a as A}from"./chunk-S66T2YIZ.js";import{a as T}from"./chunk-KBDDPEDX.js";import{a as F}from"./chunk-YAEOSTW2.js";import{e as z}from"./chunk-RG4DZT4R.js";import{i as P,j as S,k as w,l as k,m as E,r as I}from"./chunk-ZCJ7ANON.js";import{Ga as j,La as g,T as _,Wa as p,Xa as t,Y as u,Ya as i,Z as v,Za as l,bb as C,eb as b,gb as x,jb as h,lb as o,mb as c,nb as f,ob as y,sa as O,sb as M,ua as n}from"./chunk-3PLKYEVT.js";function N(a,r){a&1&&(t(0,"span",49),o(1,"Remote"),i())}function D(a,r){if(a&1&&(t(0,"span",50),o(1),i()),a&2){let e=r.$implicit;n(),c(e)}}function V(a,r){if(a&1){let e=C();t(0,"div",24)(1,"div",25),l(2,"img",26),t(3,"div",27)(4,"h3",28),o(5),i(),t(6,"p",29),o(7),i()(),t(8,"div",30)(9,"div",31),l(10,"i",32),i(),t(11,"span",33),o(12),i()()(),t(13,"div",34)(14,"span"),l(15,"i",35),o(16),i(),t(17,"span"),l(18,"i",36),o(19),i(),g(20,N,2,0,"span",37),t(21,"span"),l(22,"i",38),o(23),i(),t(24,"span"),l(25,"i",39),o(26),i()(),t(27,"div",40)(28,"div",41),g(29,D,2,1,"span",42),i(),t(30,"p",43),o(31),i()(),t(32,"div",44)(33,"div",45),l(34,"i",46),o(35),i(),t(36,"button",47),b("click",function(){let d=u(e).$implicit,m=x(2);return v(m.apply(d))}),o(37,"Apply Now "),l(38,"i",48),i()()()}if(a&2){let e=r.$implicit;n(2),p("alt",M("",e.company," logo"))("src",e.logo,O),n(3),c(e.title),n(2),c(e.company),n(4),p("ngClass",e.priority.replace(" ","-")),n(),c(e.priority),n(4),f(" ",e.location),n(3),f(" ",e.type),n(),p("ngIf",e.remote),n(3),f(" ",e.salary),n(3),f(" ",e.applicants," applicants"),n(3),p("ngForOf",e.skills),n(2),c(e.description),n(4),y(" ",e.rating," \u2022 ",e.posted," ")}}function R(a,r){if(a&1&&(t(0,"div",22),g(1,V,39,16,"div",23),i()),a&2){let e=x();n(),p("ngForOf",e.jobs)}}function U(a,r){a&1&&(t(0,"span",49),o(1,"Remote"),i())}function $(a,r){if(a&1&&(t(0,"span",50),o(1),i()),a&2){let e=r.$implicit;n(),c(e)}}function H(a,r){if(a&1){let e=C();t(0,"div",53)(1,"div",54),l(2,"img",26),t(3,"div")(4,"h3",28),o(5),i(),t(6,"p",29),o(7),i()(),t(8,"div",31),l(9,"i",32),i()(),t(10,"div",55)(11,"span",33),o(12),i()(),t(13,"div",56)(14,"span"),o(15),i(),o(16," \u2022 "),t(17,"span"),o(18),i(),g(19,U,2,0,"span",37),i(),t(20,"div",56)(21,"span"),o(22),i(),o(23," \u2022 "),t(24,"span"),o(25),i()(),t(26,"p",43),o(27),i(),t(28,"div",41),g(29,$,2,1,"span",42),i(),t(30,"div",57)(31,"div",45),l(32,"i",46),o(33),i(),t(34,"button",47),b("click",function(){let d=u(e).$implicit,m=x(2);return v(m.apply(d))}),o(35,"Apply Now "),l(36,"i",48),i()()()}if(a&2){let e=r.$implicit;n(2),p("alt",M("",e.company," logo"))("src",e.logo,O),n(3),c(e.title),n(2),c(e.company),n(4),p("ngClass",e.priority.replace(" ","-")),n(),c(e.priority),n(3),c(e.location),n(3),c(e.type),n(),p("ngIf",e.remote),n(3),c(e.salary),n(3),f("",e.applicants," applicants"),n(2),c(e.description),n(2),p("ngForOf",e.skills),n(4),y(" ",e.rating," \u2022 ",e.posted," ")}}function L(a,r){if(a&1&&(t(0,"div",51),g(1,H,37,16,"div",52),i()),a&2){let e=x();n(),p("ngForOf",e.jobs)}}var J=class a{viewMode="list";setView(r){this.viewMode=r}jobs=[];jobService=_(A);applicationService=_(T);authService=_(F);constructor(){console.log("Initializing Opportunities component"),this.jobService.jobs$.subscribe({next:r=>{console.log("Received updated jobs in component:",r),this.jobs=r},error:r=>{console.error("Error in jobs subscription:",r),console.warn("Could not load jobs from API:",r)}}),this.loadJobs()}loadJobs(){console.log("Loading jobs in Opportunities component"),this.jobService.getAll().subscribe({next:()=>{console.log("Successfully triggered jobs refresh")},error:r=>{console.error("Error triggering jobs refresh:",r),console.warn("Could not load jobs from API:",r)}})}refreshJobs(){this.loadJobs()}apply(r){let e=this.authService.getCurrentUser();if(!e){alert("Please sign in before applying");return}let s=e.userId,d={JobID:r.jobID,CandidateID:s,Status:"Applied",AppliedDate:new Date,CoverLetter:"",ResumeUrl:""};this.applicationService.create(d).subscribe({next:()=>alert("Application submitted"),error:m=>alert("Application failed: "+(m?.error?.message??m))})}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=j({type:a,selectors:[["app-opportunities"]],decls:35,vars:7,consts:[[1,"opportunities-container"],[1,"main-header"],[1,"bi","bi-lightbulb"],[1,"filter-bar"],[1,"search-box"],[1,"bi","bi-search"],["type","text","placeholder","Search jobs, companies, or skills..."],[1,"filter-options"],[1,"filter-btn"],[1,"bi","bi-chevron-down"],[1,"view-toggle"],[3,"click"],[1,"bi","bi-list-ul"],[1,"bi","bi-grid-fill"],["title","Refresh job listings",1,"refresh-btn",3,"click"],[1,"bi","bi-arrow-clockwise"],[1,"filters-main-btn"],[1,"bi","bi-funnel"],[1,"listings-header"],[3,"ngSwitch"],["class","job-listings-list",4,"ngSwitchCase"],["class","job-listings-grid",4,"ngSwitchCase"],[1,"job-listings-list"],["class","job-card-list",4,"ngFor","ngForOf"],[1,"job-card-list"],[1,"job-card-list-header"],[1,"company-logo",3,"src","alt"],[1,"job-title-section"],[1,"job-title"],[1,"job-company"],[1,"job-tags-and-priority"],[1,"wishlist-icon"],[1,"bi","bi-heart"],[1,"priority-tag",3,"ngClass"],[1,"job-details-bar"],[1,"bi","bi-geo-alt"],[1,"bi","bi-briefcase"],["class","remote-tag",4,"ngIf"],[1,"bi","bi-cash-stack"],[1,"bi","bi-people"],[1,"job-card-list-body"],[1,"job-skills"],["class","skill-tag",4,"ngFor","ngForOf"],[1,"job-description"],[1,"job-card-list-footer"],[1,"job-rating"],[1,"bi","bi-star-fill"],[1,"apply-now-btn",3,"click"],[1,"bi","bi-arrow-right-short"],[1,"remote-tag"],[1,"skill-tag"],[1,"job-listings-grid"],["class","job-card-grid",4,"ngFor","ngForOf"],[1,"job-card-grid"],[1,"job-card-grid-header"],[1,"job-card-grid-priority"],[1,"job-details-grid"],[1,"job-card-grid-footer"]],template:function(e,s){e&1&&(t(0,"div",0)(1,"header",1)(2,"h1"),l(3,"i",2),o(4," Discover Your Next Opportunity"),i(),t(5,"p"),o(6,"Find the perfect job that matches your skills and aspirations."),i()(),t(7,"div",3)(8,"div",4),l(9,"i",5)(10,"input",6),i(),t(11,"div",7)(12,"button",8)(13,"span"),o(14,"All Categories (6)"),i(),l(15,"i",9),i(),t(16,"div",10)(17,"button",11),b("click",function(){return s.setView("list")}),l(18,"i",12),i(),t(19,"button",11),b("click",function(){return s.setView("grid")}),l(20,"i",13),i()(),t(21,"button",14),b("click",function(){return s.refreshJobs()}),l(22,"i",15),t(23,"span"),o(24,"Refresh"),i()(),t(25,"button",16),l(26,"i",17),t(27,"span"),o(28,"Filters"),i()()()(),t(29,"div",18)(30,"p"),o(31,"Found 6 opportunities"),i()(),t(32,"div",19),g(33,R,2,1,"div",20)(34,L,2,1,"div",21),i()()),e&2&&(n(17),h("active",s.viewMode==="list"),n(2),h("active",s.viewMode==="grid"),n(13),p("ngSwitch",s.viewMode),n(),p("ngSwitchCase","list"),n(),p("ngSwitchCase","grid"))},dependencies:[I,P,S,w,k,E,z],styles:["[_nghost-%COMP%]{display:block;padding:30px;background-color:#f9fafb;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif}.opportunities-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.main-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#111827;display:flex;align-items:center;gap:10px}.main-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4f46e5}.main-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#6b7280;margin-top:4px}.filter-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:24px;gap:16px}.search-box[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#fff;border:1px solid #d1d5db;border-radius:8px;padding:10px 16px;flex-grow:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#9ca3af;margin-right:12px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;width:100%;font-size:14px}.filter-options[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.filter-btn[_ngcontent-%COMP%], .refresh-btn[_ngcontent-%COMP%], .filters-main-btn[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #d1d5db;border-radius:8px;padding:10px 16px;cursor:pointer;display:flex;align-items:center;gap:8px;font-size:14px}.refresh-btn[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;border-color:#9ca3af}.view-toggle[_ngcontent-%COMP%]{display:flex;border:1px solid #d1d5db;border-radius:8px;overflow:hidden}.view-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;border:none;padding:10px 12px;cursor:pointer;color:#6b7280}.view-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{border-right:1px solid #d1d5db}.view-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#eef2ff;color:#4f46e5}.listings-header[_ngcontent-%COMP%]{margin-top:24px;padding-bottom:12px;color:#6b7280;font-size:14px}.company-logo[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:8px;object-fit:contain;border:1px solid #e5e7eb}.job-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#111827;margin:0}.job-company[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin:2px 0 0}.wishlist-icon[_ngcontent-%COMP%]{color:#9ca3af;cursor:pointer}.priority-tag[_ngcontent-%COMP%]{padding:4px 12px;border-radius:16px;font-size:12px;font-weight:500}.high-priority[_ngcontent-%COMP%]{background-color:#fee2e2;color:#ef4444}.medium-priority[_ngcontent-%COMP%]{background-color:#fef3c7;color:#f59e0b}.low-priority[_ngcontent-%COMP%]{background-color:#ecfdf5;color:#10b981}.remote-tag[_ngcontent-%COMP%]{background-color:#e0f2fe;color:#0ea5e9;padding:3px 8px;border-radius:6px;font-size:12px;font-weight:500}.skill-tag[_ngcontent-%COMP%]{background-color:#eef2ff;color:#4f46e5;padding:4px 10px;border-radius:6px;font-size:12px}.job-rating[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;display:flex;align-items:center;gap:6px}.job-rating[_ngcontent-%COMP%]   .bi-star-fill[_ngcontent-%COMP%]{color:#f59e0b}.apply-now-btn[_ngcontent-%COMP%]{background-color:#4f46e5;color:#fff;border:none;border-radius:8px;padding:12px 20px;font-size:14px;font-weight:500;cursor:pointer;display:flex;align-items:center;gap:6px;transition:background-color .2s}.apply-now-btn[_ngcontent-%COMP%]:hover{background-color:#4338ca}.job-listings-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.job-card-list[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:24px}.job-card-list-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px}.job-title-section[_ngcontent-%COMP%]{flex-grow:1}.job-tags-and-priority[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.job-details-bar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;color:#6b7280;font-size:14px;margin-top:16px;margin-left:64px}.job-details-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.job-card-list-body[_ngcontent-%COMP%]{margin-top:16px;margin-left:64px}.job-skills[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.job-description[_ngcontent-%COMP%]{color:#374151;font-size:14px;margin:12px 0 0}.job-card-list-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:20px;margin-left:64px}.job-listings-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:20px}.job-card-grid[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:20px;display:flex;flex-direction:column;gap:12px}.job-card-grid-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px}.job-card-grid-header[_ngcontent-%COMP%]   .job-title[_ngcontent-%COMP%]{font-size:16px}.job-card-grid-header[_ngcontent-%COMP%]   .job-company[_ngcontent-%COMP%]{font-size:13px}.job-card-grid-header[_ngcontent-%COMP%]   .company-logo[_ngcontent-%COMP%]{width:40px;height:40px}.job-card-grid-header[_ngcontent-%COMP%]   .wishlist-icon[_ngcontent-%COMP%]{margin-left:auto}.job-card-grid-priority[_ngcontent-%COMP%]{align-self:flex-end;margin-top:-30px}.job-details-grid[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:13px;color:#6b7280}.job-card-grid[_ngcontent-%COMP%]   .job-description[_ngcontent-%COMP%]{font-size:13px;flex-grow:1}.job-card-grid[_ngcontent-%COMP%]   .job-skills[_ngcontent-%COMP%]{margin-top:auto}.job-card-grid-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:12px}.job-card-grid[_ngcontent-%COMP%]   .apply-now-btn[_ngcontent-%COMP%]{padding:10px 16px;font-size:13px}"]})};export{J as Opportunities};
