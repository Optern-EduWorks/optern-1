import{a as z}from"./chunk-KBDDPEDX.js";import{a as V}from"./chunk-YAEOSTW2.js";import"./chunk-RG4DZT4R.js";import{i as k,j as I,k as E,l as j,m as T,r as F}from"./chunk-ZCJ7ANON.js";import{Ga as w,La as g,T as O,Wa as c,Xa as e,Y as x,Ya as n,Z as u,Za as r,bb as b,eb as _,gb as m,jb as h,lb as o,mb as f,nb as s,ob as A,sa as C,sb as y,ua as i,ub as S,wb as M}from"./chunk-3PLKYEVT.js";var R=()=>["All Applications","Applied","Interview Scheduled","Shortlisted","Rejected"],P=(a,l,t)=>({"bi-check-circle-fill":a,"bi-calendar-event-fill":l,"bi-x-circle-fill":t});function $(a,l){if(a&1){let t=b();e(0,"button",11),_("click",function(){let d=x(t).$implicit,v=m();return u(v.setFilter(d))}),o(1),e(2,"span",18),o(3),n()()}if(a&2){let t=l.$implicit,p=m();h("active",p.activeFilter===t),i(),s(" ",t," "),i(2),f(p.filterCounts[t])}}function N(a,l){a&1&&(e(0,"span",40),o(1,"Remote"),n())}function L(a,l){a&1&&(e(0,"span",41),o(1,"Hybrid"),n())}function U(a,l){a&1&&(e(0,"span",42),o(1,"Onsite"),n())}function H(a,l){if(a&1&&(e(0,"div",43),r(1,"i",44),o(2),n()),a&2){let t=m().$implicit;i(2),s(" Interview scheduled for ",t.interviewDate," ")}}function q(a,l){if(a&1){let t=b();e(0,"div",21)(1,"div",22),r(2,"img",23),e(3,"div")(4,"h3",24),o(5),n(),e(6,"p",25),o(7),n()()(),e(8,"div",26)(9,"span"),r(10,"i",27),o(11),n(),g(12,N,2,0,"span",28)(13,L,2,0,"span",29)(14,U,2,0,"span",30),n(),e(15,"div",26)(16,"span",31),o(17),n(),e(18,"span",32),o(19),n()(),e(20,"p",33),o(21),n(),e(22,"div",34),g(23,H,3,1,"div",35),e(24,"button",36),r(25,"i",37),o(26),n(),e(27,"button",38),_("click",function(){let d=x(t).$implicit,v=m(2);return u(v.openModal(d))}),r(28,"i",39),o(29," View Details"),n()()()}if(a&2){let t=l.$implicit;i(2),c("alt",y("",t.company," Logo"))("src",t.logo,C),i(3),f(t.title),i(2),f(t.company),i(4),s(" ",t.location),i(),c("ngIf",t.remote),i(),c("ngIf",t.hybrid),i(),c("ngIf",t.onsite),i(3),f(t.type),i(2),f(t.salary),i(2),s("Applied on ",t.appliedDate),i(2),c("ngIf",t.status==="Interview Scheduled"),i(),c("ngClass","status-"+t.status.toLowerCase().replace(" ","-")),i(),c("ngClass",M(16,P,t.status==="Applied"||t.status==="Shortlisted",t.status==="Interview Scheduled",t.status==="Rejected")),i(),s(" ",t.status," ")}}function J(a,l){if(a&1&&(e(0,"div",19),g(1,q,30,20,"div",20),n()),a&2){let t=m();i(),c("ngForOf",t.filteredApplications)}}function Y(a,l){a&1&&(e(0,"span",40),o(1,"Remote"),n())}function B(a,l){a&1&&(e(0,"span",41),o(1,"Hybrid"),n())}function G(a,l){a&1&&(e(0,"span",42),o(1,"Onsite"),n())}function K(a,l){if(a&1&&(e(0,"div",43),r(1,"i",44),o(2),n()),a&2){let t=m().$implicit;i(2),s(" Interview scheduled for ",t.interviewDate," ")}}function Q(a,l){if(a&1){let t=b();e(0,"div",47),r(1,"img",23),e(2,"div",48)(3,"h3",24),o(4),n(),e(5,"p",25),o(6),n(),e(7,"div",49)(8,"span",31),o(9),n(),e(10,"span",32),o(11),n(),g(12,Y,2,0,"span",28)(13,B,2,0,"span",29)(14,G,2,0,"span",30),n()(),e(15,"div",50)(16,"p",33),o(17),n(),g(18,K,3,1,"div",35),n(),e(19,"div",51)(20,"button",36),r(21,"i",37),o(22),n(),e(23,"button",38),_("click",function(){let d=x(t).$implicit,v=m(2);return u(v.openModal(d))}),r(24,"i",39),o(25," View Details"),n()()()}if(a&2){let t=l.$implicit;i(),c("alt",y("",t.company," Logo"))("src",t.logo,C),i(3),f(t.title),i(2),A("",t.company," \u2022 ",t.location),i(3),f(t.type),i(2),f(t.salary),i(),c("ngIf",t.remote),i(),c("ngIf",t.hybrid),i(),c("ngIf",t.onsite),i(3),s("Applied on ",t.appliedDate),i(),c("ngIf",t.status==="Interview Scheduled"),i(2),c("ngClass","status-"+t.status.toLowerCase().replace(" ","-")),i(),c("ngClass",M(16,P,t.status==="Applied"||t.status==="Shortlisted",t.status==="Interview Scheduled",t.status==="Rejected")),i(),s(" ",t.status," ")}}function W(a,l){if(a&1&&(e(0,"div",45),g(1,Q,26,20,"div",46),n()),a&2){let t=m();i(),c("ngForOf",t.filteredApplications)}}function X(a,l){a&1&&(e(0,"span",41),r(1,"i",75),o(2," Hybrid"),n())}function Z(a,l){a&1&&(e(0,"span",40),r(1,"i",76),o(2," Remote"),n())}function tt(a,l){if(a&1&&(e(0,"span",77),o(1),n()),a&2){let t=l.$implicit;i(),f(t)}}function et(a,l){if(a&1){let t=b();e(0,"div",54),_("click",function(d){return x(t),u(d.stopPropagation())}),e(1,"div",55)(2,"div",56),r(3,"img",57),e(4,"div")(5,"h2",58),o(6),n(),e(7,"p",59),o(8),n()()(),e(9,"button",60),_("click",function(){x(t);let d=m(2);return u(d.closeModal())}),r(10,"i",61),n()(),e(11,"div",62)(12,"div",63)(13,"span",36),r(14,"i",37),o(15),n(),e(16,"span",64),o(17),n()(),e(18,"div",65)(19,"span"),r(20,"i",27),o(21),n(),g(22,X,3,0,"span",29)(23,Z,3,0,"span",28),e(24,"span"),r(25,"i",66),o(26),n(),e(27,"span",32),r(28,"i",67),o(29),n()(),e(30,"div",68)(31,"h3"),o(32,"Job Description"),n(),e(33,"p"),o(34),n()(),e(35,"div",68)(36,"h3"),o(37,"Requirements"),n(),e(38,"div",69),g(39,tt,2,1,"span",70),n()()(),e(40,"div",71)(41,"button",72),r(42,"i",73),o(43," View Job Posting"),n(),e(44,"button",74),o(45,"Contact Company"),n()()()}if(a&2){let t=m(2);i(3),c("alt",y("",t.selectedApplication.company," Logo"))("src",t.selectedApplication.logo,C),i(3),f(t.selectedApplication.title),i(2),f(t.selectedApplication.company),i(5),c("ngClass","status-"+t.selectedApplication.status.toLowerCase().replace(" ","-")),i(),c("ngClass",M(16,P,t.selectedApplication.status==="Applied"||t.selectedApplication.status==="Shortlisted",t.selectedApplication.status==="Interview Scheduled",t.selectedApplication.status==="Rejected")),i(),s(" ",t.selectedApplication.status," "),i(2),s("Applied on ",t.selectedApplication.appliedDate),i(4),s(" ",t.selectedApplication.location),i(),c("ngIf",t.selectedApplication.hybrid),i(),c("ngIf",t.selectedApplication.remote),i(3),s(" ",t.selectedApplication.type),i(3),s(" ",t.selectedApplication.salary),i(5),f(t.selectedApplication.description),i(5),c("ngForOf",t.selectedApplication.requirements)}}function it(a,l){if(a&1){let t=b();e(0,"div",52),_("click",function(){x(t);let d=m();return u(d.closeModal())}),g(1,et,46,20,"div",53),n()}if(a&2){let t=m();i(),c("ngIf",t.selectedApplication)}}var D=class a{viewMode="grid";activeFilter="All Applications";isModalVisible=!1;selectedApplication=null;allApplications=[];applicationService=O(z);authService=O(V);filteredApplications=[...this.allApplications];filterCounts={};constructor(){this.loadApplications()}loadApplications(){let l=this.authService.getCurrentUser();this.applicationService.getAll().subscribe({next:t=>{this.allApplications=t||[],this.filteredApplications=[...this.allApplications],this.calculateFilterCounts()},error:t=>{console.warn("Could not load applications from API, falling back to empty list",t),this.allApplications=[],this.filteredApplications=[],this.calculateFilterCounts()}})}calculateFilterCounts(){this.filterCounts={"All Applications":this.allApplications.length,Applied:this.allApplications.filter(l=>l.status==="Applied").length,"Interview Scheduled":this.allApplications.filter(l=>l.status==="Interview Scheduled").length,Shortlisted:this.allApplications.filter(l=>l.status==="Shortlisted").length,Rejected:this.allApplications.filter(l=>l.status==="Rejected").length}}setView(l){this.viewMode=l}setFilter(l){this.activeFilter=l,this.filteredApplications=l==="All Applications"?[...this.allApplications]:this.allApplications.filter(t=>t.status===l)}openModal(l){this.selectedApplication=l,this.isModalVisible=!0}closeModal(){this.isModalVisible=!1,setTimeout(()=>this.selectedApplication=null,300)}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=w({type:a,selectors:[["app-applications"]],decls:24,vars:10,consts:[[1,"applications-container"],[1,"page-header"],[1,"header-content"],[1,"bi","bi-stack"],[1,"header-actions"],[1,"activity-tracker-btn"],[1,"bi","bi-bar-chart-line-fill"],[1,"controls-bar"],[1,"status-filters"],[3,"active","click",4,"ngFor","ngForOf"],[1,"view-toggle"],[3,"click"],[1,"bi","bi-list-ul"],[1,"bi","bi-grid-fill"],[3,"ngSwitch"],["class","listings-grid",4,"ngSwitchCase"],["class","listings-list",4,"ngSwitchCase"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"filter-count"],[1,"listings-grid"],["class","card-grid",4,"ngFor","ngForOf"],[1,"card-grid"],[1,"card-header"],[1,"company-logo",3,"src","alt"],[1,"job-title"],[1,"company-name"],[1,"job-details"],[1,"bi","bi-geo-alt"],["class","job-tag remote",4,"ngIf"],["class","job-tag hybrid",4,"ngIf"],["class","job-tag onsite",4,"ngIf"],[1,"job-tag"],[1,"job-tag","salary"],[1,"applied-date"],[1,"status-section"],["class","interview-details",4,"ngIf"],[1,"status-tag",3,"ngClass"],[3,"ngClass"],[1,"view-details-btn",3,"click"],[1,"bi","bi-eye"],[1,"job-tag","remote"],[1,"job-tag","hybrid"],[1,"job-tag","onsite"],[1,"interview-details"],[1,"bi","bi-calendar-check"],[1,"listings-list"],["class","card-list",4,"ngFor","ngForOf"],[1,"card-list"],[1,"job-info"],[1,"job-tags"],[1,"application-status"],[1,"status-actions"],[1,"modal-overlay",3,"click"],["class","modal-content",3,"click",4,"ngIf"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-header-info"],[1,"modal-company-logo",3,"src","alt"],[1,"modal-title"],[1,"modal-company"],[1,"modal-close-btn",3,"click"],[1,"bi","bi-x"],[1,"modal-body"],[1,"modal-status-bar"],[1,"modal-applied-date"],[1,"modal-details-grid"],[1,"bi","bi-briefcase"],[1,"bi","bi-cash"],[1,"modal-section"],[1,"job-skills"],["class","skill-tag",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"view-posting-btn"],[1,"bi","bi-box-arrow-up-right"],[1,"contact-company-btn"],[1,"bi","bi-pc-display-horizontal"],[1,"bi","bi-house"],[1,"skill-tag"]],template:function(t,p){t&1&&(e(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1"),r(4,"i",3),o(5," My Applications"),n(),e(6,"p"),o(7,"Track the status of your job applications and manage your pipeline."),n()(),e(8,"div",4)(9,"button",5),r(10,"i",6),o(11," Activity Tracker"),n()()(),e(12,"div",7)(13,"div",8),g(14,$,4,4,"button",9),n(),e(15,"div",10)(16,"button",11),_("click",function(){return p.setView("list")}),r(17,"i",12),n(),e(18,"button",11),_("click",function(){return p.setView("grid")}),r(19,"i",13),n()()(),e(20,"div",14),g(21,J,2,1,"div",15)(22,W,2,1,"div",16),n()(),g(23,it,2,1,"div",17)),t&2&&(i(14),c("ngForOf",S(9,R)),i(2),h("active",p.viewMode==="list"),i(2),h("active",p.viewMode==="grid"),i(2),c("ngSwitch",p.viewMode),i(),c("ngSwitchCase","grid"),i(),c("ngSwitchCase","list"),i(),c("ngIf",p.isModalVisible))},dependencies:[F,k,I,E,j,T],styles:["[_nghost-%COMP%]{display:block;padding:30px;background-color:#f9fafb;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif}.applications-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:24px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#111827;display:flex;align-items:center;gap:10px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4f46e5}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#6b7280;margin-top:4px}.activity-tracker-btn[_ngcontent-%COMP%]{background-color:#4f46e5;color:#fff;border:none;border-radius:8px;padding:10px 16px;font-weight:500;cursor:pointer;display:flex;align-items:center;gap:8px}.controls-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.status-filters[_ngcontent-%COMP%]{display:flex;gap:8px;background-color:#f3f4f6;border-radius:8px;padding:6px}.status-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;color:#374151;display:flex;align-items:center;gap:8px}.status-filters[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 1px 3px #0000001a;color:#111827}.filter-count[_ngcontent-%COMP%]{background-color:#e5e7eb;border-radius:4px;font-size:12px;padding:2px 6px}.status-filters[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   .filter-count[_ngcontent-%COMP%]{background-color:#4f46e5;color:#fff}.view-toggle[_ngcontent-%COMP%]{display:flex;border:1px solid #d1d5db;border-radius:8px;overflow:hidden}.view-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;border:none;padding:10px 12px;cursor:pointer}.view-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{border-right:1px solid #d1d5db}.view-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#eef2ff;color:#4f46e5}.company-logo[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;border:1px solid #e5e7eb}.job-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#111827;margin:0}.company-name[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin:2px 0 0}.job-details[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:#6b7280}.job-tag[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#4b5563;padding:4px 10px;border-radius:6px;font-size:12px}.job-tag.salary[_ngcontent-%COMP%]{background-color:#e0f2fe;color:#0284c7}.job-tag.remote[_ngcontent-%COMP%]{background-color:#dcfce7;color:#16a34a}.job-tag.hybrid[_ngcontent-%COMP%]{background-color:#fef9c3;color:#ca8a04}.applied-date[_ngcontent-%COMP%]{font-size:12px;color:#9ca3af;margin:8px 0}.status-tag[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:6px 12px;border-radius:8px;font-weight:500;border:none}.interview-details[_ngcontent-%COMP%]{font-size:13px;color:#a855f7;background-color:#f3e8ff;padding:8px 12px;border-radius:8px;margin-bottom:8px;display:flex;align-items:center;gap:8px}.view-details-btn[_ngcontent-%COMP%]{background:#f3f4f6;color:#4b5563;border:none;border-radius:8px;padding:6px 12px;font-weight:500;cursor:pointer;display:flex;align-items:center;gap:6px}.status-section[_ngcontent-%COMP%], .status-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-top:auto;padding-top:12px;border-top:1px solid #f3f4f6}.status-applied[_ngcontent-%COMP%]{background-color:#e0f2fe;color:#0ea5e9}.status-interview-scheduled[_ngcontent-%COMP%]{background-color:#f3e8ff;color:#a855f7}.status-shortlisted[_ngcontent-%COMP%]{background-color:#dcfce7;color:#22c55e}.status-rejected[_ngcontent-%COMP%]{background-color:#fee2e2;color:#ef4444}.listings-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:20px}.card-grid[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:20px;display:flex;flex-direction:column;gap:10px}.card-grid[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.card-grid[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]{justify-content:space-between}.listings-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.card-list[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:16px;display:flex;align-items:center;gap:16px}.card-list[_ngcontent-%COMP%]   .job-info[_ngcontent-%COMP%]{flex-grow:1}.card-list[_ngcontent-%COMP%]   .job-tags[_ngcontent-%COMP%]{display:flex;gap:8px;margin-top:8px}.card-list[_ngcontent-%COMP%]   .application-status[_ngcontent-%COMP%]{min-width:200px;text-align:right}.card-list[_ngcontent-%COMP%]   .status-actions[_ngcontent-%COMP%]{border:none;padding:0}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#1f293799;display:flex;justify-content:center;align-items:center;z-index:1000;backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px)}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:16px;width:100%;max-width:600px;box-shadow:0 10px 25px #0000001a;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding-bottom:16px;border-bottom:1px solid #e5e7eb}.modal-header-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.modal-company-logo[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:8px}.modal-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin:0}.modal-company[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin:2px 0 0}.modal-close-btn[_ngcontent-%COMP%]{background:transparent;border:none;font-size:24px;cursor:pointer;color:#9ca3af}.modal-body[_ngcontent-%COMP%]{padding:20px 0}.modal-status-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.modal-applied-date[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}.modal-details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;font-size:14px;color:#374151;margin-bottom:24px}.modal-details-grid[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.modal-details-grid[_ngcontent-%COMP%]   .job-tag[_ngcontent-%COMP%]{display:inline-flex;width:fit-content}.modal-section[_ngcontent-%COMP%]{margin-bottom:20px}.modal-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#111827;margin:0 0 8px}.modal-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#4b5563;line-height:1.6;margin:0}.job-skills[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.job-skills[_ngcontent-%COMP%]   .skill-tag[_ngcontent-%COMP%]{background-color:#eef2ff;color:#4338ca;padding:6px 12px;border-radius:6px;font-size:14px}.modal-footer[_ngcontent-%COMP%]{display:flex;gap:12px;padding-top:16px;border-top:1px solid #e5e7eb}.view-posting-btn[_ngcontent-%COMP%], .contact-company-btn[_ngcontent-%COMP%]{flex:1;padding:12px;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s}.view-posting-btn[_ngcontent-%COMP%]{background-color:#4f46e5;color:#fff;border:none;display:flex;align-items:center;justify-content:center;gap:8px}.view-posting-btn[_ngcontent-%COMP%]:hover{background-color:#4338ca}.contact-company-btn[_ngcontent-%COMP%]{background-color:#fff;color:#374151;border:1px solid #d1d5db}.contact-company-btn[_ngcontent-%COMP%]:hover{background-color:#f9fafb}"]})};export{D as Applications};
