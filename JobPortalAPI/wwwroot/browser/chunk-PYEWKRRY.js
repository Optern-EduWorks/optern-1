import{b as L,c as H,f as B,o as J}from"./chunk-QUUDTLWW.js";import{a as A}from"./chunk-YAEOSTW2.js";import{b as D}from"./chunk-RG4DZT4R.js";import{j as F,k as U,r as j}from"./chunk-ZCJ7ANON.js";import{Aa as T,Ga as V,La as _,O as S,S as P,Wa as d,Xa as i,Y as f,Ya as n,Z as u,a as M,b as k,bb as g,eb as x,gb as s,jb as w,lb as o,m as z,mb as m,n as h,nb as y,ob as W,pb as C,q as I,qb as b,rb as v,sa as N,ua as a,y as E}from"./chunk-3PLKYEVT.js";var O=class r{constructor(t,e){this.http=t;this.authService=e}apiUrl="/api/Recruiters";getProfile(){let t=this.authService.getCurrentUser();return console.log("Getting recruiter profile for current user:",t),!t||!t.userId?(console.log("No user logged in, returning null"),z(null)):(console.log("Fetching recruiter profile from:",`${this.apiUrl}/me`),this.http.get(`${this.apiUrl}/me`).pipe(I(e=>(console.log("Recruiter profile DTO received:",e),this.convertDtoToProfile(e))),E(e=>(console.error("Error fetching recruiter profile:",e),this.handleError(e)))))}updateProfile(t){if(console.log("Updating recruiter profile:",t),!t||!t.recruiterID)return console.error("Update profile failed: Profile or ID is missing"),h(()=>new Error("Profile data is missing"));let e=this.authService.getCurrentUser();if(!e||!e.userId)return console.error("Update profile failed: No user logged in"),h(()=>new Error("Please log in to save your profile"));let c=this.convertProfileToDto(t);return c.UpdatedDate=new Date().toISOString(),console.log("Profile DTO before updating backend:",c),this.http.put(`${this.apiUrl}/${t.recruiterID}`,c).pipe(I(l=>(console.log("Profile updated successfully:",l),this.convertDtoToProfile(l))),E(l=>(console.error("Error updating profile:",l),this.handleError(l))))}convertDtoToProfile(t){return{recruiterID:t.RecruiterID,companyID:t.CompanyID,fullName:t.FullName,email:t.Email,jobTitle:t.JobTitle,phoneNumber:t.PhoneNumber,bio:t.Bio,createdDate:new Date(t.CreatedDate),updatedDate:new Date(t.UpdatedDate),company:t.Company?{companyID:t.Company.CompanyID,name:t.Company.Name,website:t.Company.Website,size:t.Company.Size,address:t.Company.Address,phone:t.Company.Phone,createdDate:t.Company.CreatedDate,industryID:t.Company.IndustryID,industry:t.Company.Industry?{industryID:t.Company.Industry.IndustryID,name:t.Company.Industry.IndustryName}:void 0}:void 0}}convertProfileToDto(t){return{RecruiterID:t.recruiterID,CompanyID:t.companyID,FullName:t.fullName,Email:t.email,JobTitle:t.jobTitle,PhoneNumber:t.phoneNumber,Bio:t.bio,CreatedDate:t.createdDate.toISOString(),UpdatedDate:t.updatedDate.toISOString()}}updateCompany(t){if(console.log("Updating company:",t),!t||!t.companyID)return console.error("Update company failed: Company or ID is missing"),h(()=>new Error("Company data is missing"));let e=this.authService.getCurrentUser();return!e||!e.userId?(console.error("Update company failed: No user logged in"),h(()=>new Error("Please log in to save company information"))):(console.log("Company data before updating backend:",t),this.http.put(`${this.apiUrl}/company/${t.companyID}`,t).pipe(I(c=>(console.log("Company updated successfully:",c),c)),E(c=>(console.error("Error updating company:",c),this.handleError(c)))))}handleError(t){console.error("Recruiter profile service error:",t);let e="An unexpected error occurred";if(t.error instanceof ErrorEvent)e=`Error: ${t.error.message}`;else if(t.error&&typeof t.error=="string")e=t.error;else if(t.message)e=t.message;else switch(t.status){case 401:e="Unauthorized. Please log in again.";break;case 403:e="Access denied. You do not have permission to perform this action.";break;case 404:e="Profile not found";break;case 400:e="Invalid profile data";break;case 500:e="Server error. Please try again later.";break;default:e=`Server returned code: ${t.status}`}return h(()=>new Error(e))}static \u0275fac=function(e){return new(e||r)(P(D),P(A))};static \u0275prov=S({token:r,factory:r.\u0275fac,providedIn:"root"})};var R=class r{constructor(t){this.http=t}baseUrl="/api/Companies";getAll(){return this.http.get(this.baseUrl)}get(t){return this.http.get(`${this.baseUrl}/${t}`)}update(t,e){return this.http.put(`${this.baseUrl}/${t}`,e)}static \u0275fac=function(e){return new(e||r)(P(D))};static \u0275prov=S({token:r,factory:r.\u0275fac,providedIn:"root"})};function X(r,t){r&1&&(i(0,"div",5)(1,"div",6),o(2,"Loading profile..."),n()())}function Z(r,t){if(r&1){let e=g();i(0,"div",7)(1,"div",8),o(2),n(),i(3,"button",9),x("click",function(){f(e);let l=s();return u(l.loadProfile())}),o(4,"Retry"),n()()}if(r&2){let e=s();a(2),m(e.errorMessage)}}function $(r,t){if(r&1&&(i(0,"div",10)(1,"div",8),o(2),n()()),r&2){let e=s();a(2),m(e.errorMessage)}}function ee(r,t){if(r&1){let e=g();i(0,"button",32),x("click",function(){f(e);let l=s(2);return u(l.toggleEditMode())}),i(1,"span",33),o(2,"\u270F"),n(),o(3," Edit Profile "),n()}}function te(r,t){if(r&1){let e=g();i(0,"div",34)(1,"button",35),x("click",function(){f(e);let l=s(2);return u(l.cancelEdit())}),o(2,"Cancel"),n(),i(3,"button",36),x("click",function(){f(e);let l=s(2);return u(l.saveProfile())}),o(4,"Save Changes"),n()()}}function ne(r,t){if(r&1){let e=g();i(0,"button",32),x("click",function(){f(e);let l=s(2);return u(l.toggleCompanyEditMode())}),i(1,"span",33),o(2,"\u270F"),n(),o(3," Edit Company "),n()}}function ie(r,t){if(r&1){let e=g();i(0,"div",34)(1,"button",35),x("click",function(){f(e);let l=s(2);return u(l.cancelCompanyEdit())}),o(2,"Cancel"),n(),i(3,"button",36),x("click",function(){f(e);let l=s(2);return u(l.saveCompany())}),o(4,"Save Changes"),n()()}}function re(r,t){if(r&1){let e=g();i(0,"input",52),v("ngModelChange",function(l){f(e);let p=s(3);return b(p.editablePersonalInfo.firstName,l)||(p.editablePersonalInfo.firstName=l),u(l)}),n()}if(r&2){let e=s(3);C("ngModel",e.editablePersonalInfo.firstName)}}function oe(r,t){if(r&1&&(i(0,"p",51),o(1),n()),r&2){let e=s(3);a(),m(e.personalInfo.firstName)}}function ae(r,t){if(r&1){let e=g();i(0,"input",52),v("ngModelChange",function(l){f(e);let p=s(3);return b(p.editablePersonalInfo.lastName,l)||(p.editablePersonalInfo.lastName=l),u(l)}),n()}if(r&2){let e=s(3);C("ngModel",e.editablePersonalInfo.lastName)}}function le(r,t){if(r&1&&(i(0,"p",51),o(1),n()),r&2){let e=s(3);a(),m(e.personalInfo.lastName)}}function se(r,t){if(r&1){let e=g();i(0,"input",53),v("ngModelChange",function(l){f(e);let p=s(3);return b(p.editablePersonalInfo.email,l)||(p.editablePersonalInfo.email=l),u(l)}),n()}if(r&2){let e=s(3);C("ngModel",e.editablePersonalInfo.email)}}function ce(r,t){if(r&1&&(i(0,"p",51),o(1),n()),r&2){let e=s(3);a(),m(e.personalInfo.email)}}function de(r,t){if(r&1){let e=g();i(0,"input",54),v("ngModelChange",function(l){f(e);let p=s(3);return b(p.editablePersonalInfo.phone,l)||(p.editablePersonalInfo.phone=l),u(l)}),n()}if(r&2){let e=s(3);C("ngModel",e.editablePersonalInfo.phone)}}function pe(r,t){if(r&1&&(i(0,"p",51),o(1),n()),r&2){let e=s(3);a(),m(e.personalInfo.phone)}}function me(r,t){if(r&1&&(i(0,"div",37)(1,"div",38)(2,"div",39)(3,"span",40),o(4,"\u{1F464}"),n(),i(5,"h3",41),o(6,"Personal Information"),n()(),i(7,"div",42)(8,"div",43)(9,"label",44),o(10,"First Name"),n(),_(11,re,1,1,"input",45)(12,oe,2,1,"p",46),n(),i(13,"div",43)(14,"label",44),o(15,"Last Name"),n(),_(16,ae,1,1,"input",45)(17,le,2,1,"p",46),n(),i(18,"div",43)(19,"label",44),o(20,"Email"),n(),i(21,"div",47)(22,"span",48),o(23,"\u2709"),n(),_(24,se,1,1,"input",49)(25,ce,2,1,"p",46),n()(),i(26,"div",43)(27,"label",44),o(28,"Phone"),n(),i(29,"div",47)(30,"span",48),o(31,"\u{1F4DE}"),n(),_(32,de,1,1,"input",50)(33,pe,2,1,"p",46),n()(),i(34,"div",43)(35,"label",44),o(36,"Position"),n(),i(37,"div",47)(38,"span",48),o(39,"\u{1F4BC}"),n(),i(40,"p",51),o(41),n()()(),i(42,"div",43)(43,"label",44),o(44,"Department"),n(),i(45,"p",51),o(46),n()(),i(47,"div",43)(48,"label",44),o(49,"Join Date"),n(),i(50,"div",47)(51,"span",48),o(52,"\u{1F4C5}"),n(),i(53,"p",51),o(54),n()()(),i(55,"div",43)(56,"label",44),o(57,"Employee ID"),n(),i(58,"p",51),o(59),n()()()()()),r&2){let e=s(2);a(11),d("ngIf",e.isEditMode),a(),d("ngIf",!e.isEditMode),a(4),d("ngIf",e.isEditMode),a(),d("ngIf",!e.isEditMode),a(7),d("ngIf",e.isEditMode),a(),d("ngIf",!e.isEditMode),a(7),d("ngIf",e.isEditMode),a(),d("ngIf",!e.isEditMode),a(8),m(e.personalInfo.position),a(5),m(e.personalInfo.department),a(8),m(e.personalInfo.joinDate),a(5),m(e.personalInfo.employeeId)}}function fe(r,t){if(r&1){let e=g();i(0,"input",78),v("ngModelChange",function(l){f(e);let p=s(3);return b(p.editableCompanyInfo.name,l)||(p.editableCompanyInfo.name=l),u(l)}),n()}if(r&2){let e=s(3);C("ngModel",e.editableCompanyInfo.name)}}function ue(r,t){if(r&1&&(i(0,"span"),o(1),n()),r&2){let e=s(3);a(),m(e.companyInfo.name)}}function ge(r,t){if(r&1){let e=g();i(0,"input",79),v("ngModelChange",function(l){f(e);let p=s(3);return b(p.editableCompanyInfo.industry,l)||(p.editableCompanyInfo.industry=l),u(l)}),n()}if(r&2){let e=s(3);C("ngModel",e.editableCompanyInfo.industry)}}function _e(r,t){if(r&1&&(i(0,"span"),o(1),n()),r&2){let e=s(3);a(),m(e.companyInfo.industry)}}function xe(r,t){if(r&1){let e=g();i(0,"input",80),v("ngModelChange",function(l){f(e);let p=s(3);return b(p.editableCompanyInfo.website,l)||(p.editableCompanyInfo.website=l),u(l)}),n()}if(r&2){let e=s(3);C("ngModel",e.editableCompanyInfo.website)}}function Ce(r,t){if(r&1&&(i(0,"a",81),o(1),n()),r&2){let e=s(3);d("href",e.companyInfo.website,N),a(),y(" ",e.companyInfo.website," ")}}function be(r,t){if(r&1){let e=g();i(0,"input",82),v("ngModelChange",function(l){f(e);let p=s(3);return b(p.editableCompanyInfo.address,l)||(p.editableCompanyInfo.address=l),u(l)}),n()}if(r&2){let e=s(3);C("ngModel",e.editableCompanyInfo.address)}}function ve(r,t){if(r&1&&(i(0,"p",83),o(1),n()),r&2){let e=s(3);a(),m(e.companyInfo.address)}}function ye(r,t){if(r&1){let e=g();i(0,"input",82),v("ngModelChange",function(l){f(e);let p=s(3);return b(p.editableCompanyInfo.companySize,l)||(p.editableCompanyInfo.companySize=l),u(l)}),n()}if(r&2){let e=s(3);C("ngModel",e.editableCompanyInfo.companySize)}}function he(r,t){if(r&1&&(i(0,"p",83),o(1),n()),r&2){let e=s(3);a(),m(e.companyInfo.companySize)}}function Pe(r,t){if(r&1){let e=g();i(0,"input",84),v("ngModelChange",function(l){f(e);let p=s(3);return b(p.editableCompanyInfo.phone,l)||(p.editableCompanyInfo.phone=l),u(l)}),n()}if(r&2){let e=s(3);C("ngModel",e.editableCompanyInfo.phone)}}function Me(r,t){if(r&1&&(i(0,"p",83),o(1),n()),r&2){let e=s(3);a(),m(e.companyInfo.phone)}}function Ie(r,t){if(r&1&&(i(0,"span",85),o(1),n()),r&2){let e=t.$implicit;a(),y(" ",e," ")}}function Ee(r,t){if(r&1&&(i(0,"div",37)(1,"div",38)(2,"div",39)(3,"span",40),o(4,"\u{1F3E2}"),n(),i(5,"h3",41),o(6,"Company Information"),n()(),i(7,"div",55)(8,"div",56)(9,"div",57),o(10,"\u{1F680}"),n(),i(11,"div")(12,"h4",58),_(13,fe,1,1,"input",59)(14,ue,2,1,"span",4),n(),i(15,"p",60),_(16,ge,1,1,"input",61)(17,_e,2,1,"span",4),n()()(),i(18,"div",62)(19,"div",63)(20,"span",64),o(21,"\u{1F310}"),n(),i(22,"div")(23,"label",65),o(24,"Website"),n(),_(25,xe,1,1,"input",66)(26,Ce,2,2,"a",67),n()(),i(27,"div",63)(28,"span",64),o(29,"\u{1F4CD}"),n(),i(30,"div")(31,"label",65),o(32,"Address"),n(),_(33,be,1,1,"input",68)(34,ve,2,1,"p",69),n()(),i(35,"div",63)(36,"span",64),o(37,"\u{1F465}"),n(),i(38,"div")(39,"label",65),o(40,"Company Size"),n(),_(41,ye,1,1,"input",68)(42,he,2,1,"p",69),n()(),i(43,"div",63)(44,"span",64),o(45,"\u{1F4DE}"),n(),i(46,"div")(47,"label",65),o(48,"Phone"),n(),_(49,Pe,1,1,"input",70)(50,Me,2,1,"p",69),n()()(),i(51,"div",71)(52,"label",65),o(53,"Benefits"),n(),i(54,"div",72),_(55,Ie,2,1,"span",73),n()()(),i(56,"div",74)(57,"h4",75),o(58,"About Our Company"),n(),i(59,"p",76),o(60),n()(),i(61,"div",77)(62,"h4",75),o(63,"Company Culture"),n(),i(64,"p",76),o(65),n()()()()),r&2){let e=s(2);a(13),d("ngIf",e.isCompanyEditMode),a(),d("ngIf",!e.isCompanyEditMode),a(2),d("ngIf",e.isCompanyEditMode),a(),d("ngIf",!e.isCompanyEditMode),a(8),d("ngIf",e.isCompanyEditMode),a(),d("ngIf",!e.isCompanyEditMode),a(7),d("ngIf",e.isCompanyEditMode),a(),d("ngIf",!e.isCompanyEditMode),a(7),d("ngIf",e.isCompanyEditMode),a(),d("ngIf",!e.isCompanyEditMode),a(7),d("ngIf",e.isCompanyEditMode),a(),d("ngIf",!e.isCompanyEditMode),a(5),d("ngForOf",e.companyInfo.benefits),a(5),m(e.companyInfo.about),a(5),m(e.companyInfo.culture)}}function Se(r,t){if(r&1&&(i(0,"div",37)(1,"div",38)(2,"div",39)(3,"span",40),o(4,"\u{1F4CA}"),n(),i(5,"h3",41),o(6,"Recruitment Statistics"),n()(),i(7,"div",86)(8,"div",87)(9,"div",88),o(10),n(),i(11,"div",89),o(12,"Total Hires"),n()(),i(13,"div",90)(14,"div",88),o(15),n(),i(16,"div",89),o(17,"Active Jobs"),n()(),i(18,"div",91)(19,"div",88),o(20),n(),i(21,"div",89),o(22,"Monthly Applications"),n()(),i(23,"div",92)(24,"div",88),o(25),n(),i(26,"div",89),o(27,"Success Rate"),n()()(),i(28,"div",93)(29,"h4",94),o(30,"Performance Metrics"),n(),i(31,"div",95)(32,"div",96)(33,"label",97),o(34,"Average Time to Hire"),n(),i(35,"p",98),o(36),n()(),i(37,"div",96)(38,"label",97),o(39,"Candidate Satisfaction"),n(),i(40,"p",99),o(41),n()()()(),i(42,"div",100)(43,"h4",94),o(44,"This Month"),n(),i(45,"div",101)(46,"div",102)(47,"label",103),o(48,"New Hires"),n(),i(49,"p",104),o(50),n()(),i(51,"div",102)(52,"label",103),o(53,"Interview Scheduled"),n(),i(54,"p",104),o(55),n()(),i(56,"div",102)(57,"label",103),o(58,"Offers Extended"),n(),i(59,"p",104),o(60),n()()()()()()),r&2){let e=s(2);a(10),m(e.recruitmentStats.totalHires),a(5),m(e.recruitmentStats.activeJobs),a(5),m(e.recruitmentStats.monthlyApplications),a(5),y("",e.recruitmentStats.successRate,"%"),a(11),y("",e.recruitmentStats.avgTimeToHire," days"),a(5),y("",e.recruitmentStats.candidateSatisfaction,"/5"),a(9),m(e.recruitmentStats.newHires),a(5),m(e.recruitmentStats.interviewsScheduled),a(5),m(e.recruitmentStats.offersExtended)}}function we(r,t){if(r&1){let e=g();i(0,"div")(1,"div",11)(2,"div",12)(3,"h1",13),o(4,"Recruiter "),i(5,"span",14),o(6,"Profile"),n()(),i(7,"p",15),o(8,"Manage your recruiter profile and company information."),n()(),_(9,ee,4,0,"button",16)(10,te,5,0,"div",17)(11,ne,4,0,"button",16)(12,ie,5,0,"div",17),n(),i(13,"div",18)(14,"div",19)(15,"div",20),o(16),n(),i(17,"div",21)(18,"h2",22),o(19),n(),i(20,"p",23),o(21),n(),i(22,"div",24)(23,"span",25)(24,"span",26),o(25,"\u{1F3E2}"),n(),o(26),n(),i(27,"span",25)(28,"span",26),o(29,"\u2709"),n(),o(30),n(),i(31,"span",25)(32,"span",26),o(33,"\u{1F4C5}"),n(),o(34),n()()()(),i(35,"div",27)(36,"button",28),x("click",function(){f(e);let l=s();return u(l.setActiveTab("personal"))}),i(37,"span",29),o(38,"\u{1F464}"),n(),o(39," Personal Information "),n(),i(40,"button",28),x("click",function(){f(e);let l=s();return u(l.setActiveTab("company"))}),i(41,"span",29),o(42,"\u{1F3E2}"),n(),o(43," Company Information "),n(),i(44,"button",28),x("click",function(){f(e);let l=s();return u(l.setActiveTab("stats"))}),i(45,"span",29),o(46,"\u{1F4CA}"),n(),o(47," Recruitment Stats "),n()()(),i(48,"div",30),_(49,me,60,12,"div",31)(50,Ee,66,15,"div",31)(51,Se,61,9,"div",31),n()()}if(r&2){let e=s();a(9),d("ngIf",e.activeTab==="personal"&&!e.isEditMode),a(),d("ngIf",e.isEditMode),a(),d("ngIf",e.activeTab==="company"&&!e.isCompanyEditMode),a(),d("ngIf",e.isCompanyEditMode),a(4),m(e.userProfile.initials),a(3),m(e.userProfile.fullName),a(2),W("",e.userProfile.title," \u2022 ",e.userProfile.company),a(5),y(" ",e.userProfile.company," "),a(4),y(" ",e.userProfile.email," "),a(4),y(" ",e.userProfile.memberSince," "),a(2),w("active",e.activeTab==="personal"),a(4),w("active",e.activeTab==="company"),a(4),w("active",e.activeTab==="stats"),a(5),d("ngIf",e.activeTab==="personal"),a(),d("ngIf",e.activeTab==="company"),a(),d("ngIf",e.activeTab==="stats")}}var q=class r{constructor(t,e){this.recruiterProfileService=t;this.companyService=e}activeTab="personal";isEditMode=!1;isCompanyEditMode=!1;isLoading=!0;errorMessage="";recruiterProfile=null;get userProfile(){if(!this.recruiterProfile)return{initials:"R",fullName:"Loading...",title:"Recruiter",company:"Company",email:"",memberSince:"Loading..."};let t=this.recruiterProfile.fullName.split(" ");return{initials:(t.length>=2?t[0].charAt(0)+t[1].charAt(0):t[0].charAt(0)).toUpperCase(),fullName:this.recruiterProfile.fullName,title:this.recruiterProfile.jobTitle,company:"Company",email:this.recruiterProfile.email,memberSince:`Since ${this.recruiterProfile.createdDate.getFullYear()}`}}editablePersonalInfo={firstName:"",lastName:"",email:"",phone:"",position:"",department:"",joinDate:"",employeeId:""};editableCompanyInfo={name:"",industry:"",website:"",address:"",companySize:"",phone:"",benefits:[],about:"",culture:""};get personalInfo(){if(!this.recruiterProfile)return{firstName:"",lastName:"",email:"",phone:"",position:"",department:"",joinDate:"",employeeId:""};let t=this.recruiterProfile.fullName.split(" "),e=t[0]||"",c=t.slice(1).join(" ")||"";return{firstName:e,lastName:c,email:this.recruiterProfile.email,phone:this.recruiterProfile.phoneNumber,position:this.recruiterProfile.jobTitle,department:"Human Resources",joinDate:this.recruiterProfile.createdDate.toLocaleDateString(),employeeId:`R-${this.recruiterProfile.recruiterID.toString().padStart(4,"0")}`}}companyInfo={name:"TechCorp Inc",industry:"Technology",website:"https://techcorp.com",address:"San Francisco, CA",companySize:"1000-5000 employees",phone:"+1 (555) 123-4567",benefits:["Health Insurance","Flexible Work","Stock Options","Professional Development"],about:"Leading technology company focused on innovative solutions for modern businesses.",culture:"Innovation-driven, collaborative, and inclusive workplace with focus on work-life balance."};recruitmentStats={totalHires:45,activeJobs:8,monthlyApplications:156,successRate:78,avgTimeToHire:18,candidateSatisfaction:4.6,newHires:12,interviewsScheduled:23,offersExtended:8};ngOnInit(){this.loadProfile()}initializeEditableForm(){if(this.recruiterProfile){let t=this.recruiterProfile.fullName.split(" ");this.editablePersonalInfo={firstName:t[0]||"",lastName:t.slice(1).join(" ")||"",email:this.recruiterProfile.email,phone:this.recruiterProfile.phoneNumber,position:this.recruiterProfile.jobTitle,department:"Human Resources",joinDate:this.recruiterProfile.createdDate.toLocaleDateString(),employeeId:`R-${this.recruiterProfile.recruiterID.toString().padStart(4,"0")}`},this.recruiterProfile.company&&(this.companyInfo={name:this.recruiterProfile.company.name,industry:this.recruiterProfile.company.industry?.name||"Technology",website:this.recruiterProfile.company.website,address:this.recruiterProfile.company.address,companySize:this.recruiterProfile.company.size,phone:this.recruiterProfile.company.phone,benefits:["Health Insurance","Flexible Work","Stock Options","Professional Development"],about:"Leading technology company focused on innovative solutions for modern businesses.",culture:"Innovation-driven, collaborative, and inclusive workplace with focus on work-life balance.",headquarters:"",founded:""}),this.editableCompanyInfo=M({},this.companyInfo)}}loadProfile(){this.isLoading=!0,this.errorMessage="",this.recruiterProfileService.getProfile().subscribe({next:t=>{console.log("Profile loaded:",t),this.recruiterProfile=t,this.initializeEditableForm(),this.isLoading=!1},error:t=>{console.error("Error loading profile:",t),this.errorMessage=t.message||"Failed to load profile",this.isLoading=!1}})}setActiveTab(t){this.activeTab=t,this.isEditMode=!1,this.isCompanyEditMode=!1}toggleEditMode(){this.isEditMode=!this.isEditMode}toggleCompanyEditMode(){this.isCompanyEditMode=!this.isCompanyEditMode}saveProfile(){if(!this.recruiterProfile){console.error("No profile to save"),this.errorMessage="No profile data available to save";return}if(!this.recruiterProfile.recruiterID){console.error("Profile missing ID"),this.errorMessage="Profile ID is missing. Please refresh and try again.";return}this.updateProfileFromEditableForm();let t=k(M({},this.recruiterProfile),{updatedDate:new Date});console.log("Saving profile:",t),this.recruiterProfileService.updateProfile(t).subscribe({next:e=>{console.log("Profile saved successfully:",e),this.recruiterProfile=e,this.initializeEditableForm(),this.isEditMode=!1,this.errorMessage=""},error:e=>{console.error("Error saving profile:",e),this.errorMessage=e.message||"Failed to save profile"}})}cancelEdit(){this.isEditMode=!1,this.loadProfile()}saveCompany(){if(!this.recruiterProfile){console.error("No recruiter profile to save"),this.errorMessage="No recruiter profile data available to save";return}if(!this.recruiterProfile.company){console.error("No company associated with recruiter profile"),this.errorMessage="No company data available to save. Please contact support.";return}if(!this.recruiterProfile.company.companyID||this.recruiterProfile.company.companyID<=0){console.error("Invalid company ID:",this.recruiterProfile.company.companyID),this.errorMessage="Invalid company ID. Please refresh the page and try again.";return}let t={companyID:this.recruiterProfile.company.companyID,name:this.editableCompanyInfo.name,website:this.editableCompanyInfo.website,size:this.editableCompanyInfo.companySize,address:this.editableCompanyInfo.address,phone:this.editableCompanyInfo.phone};console.log("Saving company:",t),this.companyService.update(this.recruiterProfile.company.companyID,t).subscribe({next:e=>{console.log("Company saved successfully:",e),this.loadProfile(),this.isCompanyEditMode=!1,this.errorMessage=""},error:e=>{console.error("Error saving company:",e),this.errorMessage=e.message||"Failed to save company"}})}cancelCompanyEdit(){this.isCompanyEditMode=!1,this.editableCompanyInfo=M({},this.companyInfo)}updateProfileFromEditableForm(){this.recruiterProfile&&(this.recruiterProfile.fullName=`${this.editablePersonalInfo.firstName} ${this.editablePersonalInfo.lastName}`.trim(),this.recruiterProfile.email=this.editablePersonalInfo.email,this.recruiterProfile.phoneNumber=this.editablePersonalInfo.phone,this.recruiterProfile.jobTitle=this.editablePersonalInfo.position,console.log("Updated profile from editable form:",this.recruiterProfile))}getStatCardClass(t){let e=["stat-card-green","stat-card-blue","stat-card-orange","stat-card-purple"];return e[t%e.length]}static \u0275fac=function(e){return new(e||r)(T(O),T(R))};static \u0275cmp=V({type:r,selectors:[["app-recruiter-profile"]],decls:5,vars:4,consts:[[1,"profile-container"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","save-error-alert",4,"ngIf"],[4,"ngIf"],[1,"loading-container"],[1,"loading-spinner"],[1,"error-container"],[1,"error-message"],[1,"retry-btn",3,"click"],[1,"save-error-alert"],[1,"page-header"],[1,"header-content"],[1,"page-title"],[1,"highlight"],[1,"page-description"],["class","edit-profile-btn",3,"click",4,"ngIf"],["class","edit-actions",4,"ngIf"],[1,"profile-header-card"],[1,"profile-avatar-section"],[1,"profile-avatar-large"],[1,"profile-header-info"],[1,"profile-name"],[1,"profile-title"],[1,"profile-meta"],[1,"meta-item"],[1,"icon"],[1,"profile-tabs"],[1,"tab-button",3,"click"],[1,"tab-icon"],[1,"tab-content"],["class","tab-pane",4,"ngIf"],[1,"edit-profile-btn",3,"click"],[1,"edit-icon"],[1,"edit-actions"],[1,"cancel-btn",3,"click"],[1,"save-btn",3,"click"],[1,"tab-pane"],[1,"info-section"],[1,"section-header"],[1,"section-icon"],[1,"section-title"],[1,"info-grid"],[1,"info-item"],[1,"info-label"],["type","text","class","info-input",3,"ngModel","ngModelChange",4,"ngIf"],["class","info-value",4,"ngIf"],[1,"info-value-with-icon"],[1,"value-icon"],["type","email","class","info-input",3,"ngModel","ngModelChange",4,"ngIf"],["type","tel","class","info-input",3,"ngModel","ngModelChange",4,"ngIf"],[1,"info-value"],["type","text",1,"info-input",3,"ngModelChange","ngModel"],["type","email",1,"info-input",3,"ngModelChange","ngModel"],["type","tel",1,"info-input",3,"ngModelChange","ngModel"],[1,"company-main-info"],[1,"company-header"],[1,"company-icon"],[1,"company-name"],["type","text","class","company-name-input",3,"ngModel","ngModelChange",4,"ngIf"],[1,"company-industry"],["type","text","class","company-industry-input",3,"ngModel","ngModelChange",4,"ngIf"],[1,"company-details-grid"],[1,"company-detail-item"],[1,"detail-icon"],[1,"detail-label"],["type","url","class","detail-input",3,"ngModel","ngModelChange",4,"ngIf"],["target","_blank","class","detail-link",3,"href",4,"ngIf"],["type","text","class","detail-input",3,"ngModel","ngModelChange",4,"ngIf"],["class","detail-value",4,"ngIf"],["type","tel","class","detail-input",3,"ngModel","ngModelChange",4,"ngIf"],[1,"benefits-section"],[1,"benefits-tags"],["class","benefit-tag",4,"ngFor","ngForOf"],[1,"company-about"],[1,"about-title"],[1,"about-text"],[1,"company-culture"],["type","text",1,"company-name-input",3,"ngModelChange","ngModel"],["type","text",1,"company-industry-input",3,"ngModelChange","ngModel"],["type","url",1,"detail-input",3,"ngModelChange","ngModel"],["target","_blank",1,"detail-link",3,"href"],["type","text",1,"detail-input",3,"ngModelChange","ngModel"],[1,"detail-value"],["type","tel",1,"detail-input",3,"ngModelChange","ngModel"],[1,"benefit-tag"],[1,"stats-cards-grid"],[1,"stat-card","stat-card-green"],[1,"stat-number"],[1,"stat-label"],[1,"stat-card","stat-card-blue"],[1,"stat-card","stat-card-orange"],[1,"stat-card","stat-card-purple"],[1,"performance-section"],[1,"subsection-title"],[1,"metrics-grid"],[1,"metric-item"],[1,"metric-label"],[1,"metric-value"],[1,"metric-value","highlight-rating"],[1,"this-month-section"],[1,"monthly-stats"],[1,"monthly-stat-item"],[1,"monthly-label"],[1,"monthly-value"]],template:function(e,c){e&1&&(i(0,"div",0),_(1,X,3,0,"div",1)(2,Z,5,1,"div",2)(3,$,3,1,"div",3)(4,we,52,20,"div",4),n()),e&2&&(a(),d("ngIf",c.isLoading),a(),d("ngIf",c.errorMessage&&!c.isLoading),a(),d("ngIf",c.errorMessage&&(c.isEditMode||c.isCompanyEditMode)),a(),d("ngIf",!c.isLoading&&!c.errorMessage))},dependencies:[j,F,U,J,L,H,B],styles:['.profile-container[_ngcontent-%COMP%]{padding:24px;background-color:#f8f9fa;min-height:100vh}.loading-container[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;padding:40px}.loading-spinner[_ngcontent-%COMP%]{font-size:18px;color:#6b7280;display:flex;align-items:center;gap:12px}.loading-spinner[_ngcontent-%COMP%]:before{content:"";width:20px;height:20px;border:2px solid #e5e7eb;border-top:2px solid #10b981;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-container[_ngcontent-%COMP%]{background-color:#fef2f2;border:1px solid #fecaca;border-radius:12px;text-align:center}.error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:16px;margin-bottom:16px}.retry-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:#dc2626;color:#fff;border:none;border-radius:8px;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s}.retry-btn[_ngcontent-%COMP%]:hover{background-color:#b91c1c}.save-error-alert[_ngcontent-%COMP%]{background-color:#fef2f2;border:1px solid #fecaca;border-radius:8px;padding:16px;margin-bottom:16px;display:flex;align-items:center;gap:12px}.save-error-alert[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:14px;margin:0;flex:1}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.header-content[_ngcontent-%COMP%]{flex:1}.page-title[_ngcontent-%COMP%]{font-size:28px;font-weight:600;margin:0 0 4px;color:#1f2937}.page-title[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#10b981}.page-description[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#6b7280}.edit-profile-btn[_ngcontent-%COMP%]{padding:12px 24px;background-color:#10b981;color:#fff;border:none;border-radius:8px;cursor:pointer;font-size:14px;font-weight:500;display:flex;align-items:center;gap:8px;transition:all .2s}.edit-profile-btn[_ngcontent-%COMP%]:hover{background-color:#059669}.edit-icon[_ngcontent-%COMP%]{font-size:16px}.edit-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.cancel-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:#fff;color:#6b7280;border:1px solid #d1d5db;border-radius:8px;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.save-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:#10b981;color:#fff;border:none;border-radius:8px;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s}.save-btn[_ngcontent-%COMP%]:hover{background-color:#059669}.profile-header-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);border-radius:16px;padding:32px;margin-bottom:24px;color:#fff}.profile-avatar-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:24px;margin-bottom:32px}.profile-avatar-large[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;background-color:#fff;color:#10b981;display:flex;align-items:center;justify-content:center;font-size:40px;font-weight:600;flex-shrink:0}.profile-header-info[_ngcontent-%COMP%]{flex:1}.profile-name[_ngcontent-%COMP%]{margin:0 0 4px;font-size:32px;font-weight:600;color:#fff}.profile-title[_ngcontent-%COMP%]{margin:0 0 16px;font-size:16px;color:#ffffffe6}.profile-meta[_ngcontent-%COMP%]{display:flex;gap:24px;flex-wrap:wrap}.meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:#ffffffe6}.meta-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:16px}.profile-tabs[_ngcontent-%COMP%]{display:flex;gap:8px}.tab-button[_ngcontent-%COMP%]{flex:1;padding:14px 20px;background-color:#ffffff1a;color:#ffffffb3;border:none;border-radius:10px;cursor:pointer;font-size:14px;font-weight:500;display:flex;align-items:center;justify-content:center;gap:8px;transition:all .2s}.tab-button[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}.tab-button.active[_ngcontent-%COMP%]{background-color:#fff;color:#10b981}.tab-icon[_ngcontent-%COMP%]{font-size:18px}.tab-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;padding:32px}.tab-pane[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.info-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding-bottom:16px;border-bottom:2px solid #f3f4f6}.section-icon[_ngcontent-%COMP%]{font-size:24px}.section-title[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#1f2937}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:24px}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.info-label[_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:#6b7280;text-transform:uppercase;letter-spacing:.5px}.info-value[_ngcontent-%COMP%]{margin:0;font-size:15px;color:#1f2937;font-weight:500}.info-value-with-icon[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.value-icon[_ngcontent-%COMP%]{font-size:16px;color:#10b981}.info-input[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #d1d5db;border-radius:8px;font-size:14px;color:#1f2937;transition:all .2s}.info-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#10b981;box-shadow:0 0 0 3px #10b9811a}.company-main-info[_ngcontent-%COMP%]{padding:24px;background-color:#f9fafb;border-radius:12px}.company-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:24px}.company-icon[_ngcontent-%COMP%]{width:60px;height:60px;background-color:#fff;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:30px}.company-name[_ngcontent-%COMP%]{margin:0 0 4px;font-size:22px;font-weight:600;color:#1f2937}.company-industry[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#6b7280}.company-details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin-bottom:24px}.company-detail-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px}.detail-icon[_ngcontent-%COMP%]{font-size:20px;margin-top:2px}.detail-label[_ngcontent-%COMP%]{display:block;font-size:12px;font-weight:500;color:#6b7280;margin-bottom:4px;text-transform:uppercase;letter-spacing:.5px}.detail-value[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#1f2937;font-weight:500}.detail-link[_ngcontent-%COMP%]{font-size:14px;color:#10b981;text-decoration:none;font-weight:500}.detail-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.benefits-section[_ngcontent-%COMP%]{padding-top:20px;border-top:1px solid #e5e7eb}.benefits-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-top:12px}.benefit-tag[_ngcontent-%COMP%]{padding:8px 16px;background-color:#d1fae5;color:#065f46;border-radius:20px;font-size:13px;font-weight:500}.company-about[_ngcontent-%COMP%], .company-culture[_ngcontent-%COMP%]{margin-top:24px}.about-title[_ngcontent-%COMP%]{margin:0 0 12px;font-size:16px;font-weight:600;color:#1f2937}.about-text[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#4b5563;line-height:1.6}.stats-cards-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:20px;margin-bottom:32px}.stat-card[_ngcontent-%COMP%]{padding:24px;border-radius:12px;text-align:center;transition:all .3s}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 20px #0000001a}.stat-card-green[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d1fae5,#a7f3d0)}.stat-card-blue[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dbeafe,#bfdbfe)}.stat-card-orange[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fed7aa,#fdba74)}.stat-card-purple[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e9d5ff,#d8b4fe)}.stat-number[_ngcontent-%COMP%]{font-size:36px;font-weight:700;color:#1f2937;margin-bottom:8px}.stat-label[_ngcontent-%COMP%]{font-size:14px;color:#4b5563;font-weight:500}.performance-section[_ngcontent-%COMP%], .this-month-section[_ngcontent-%COMP%]{padding:24px;background-color:#f9fafb;border-radius:12px;margin-bottom:24px}.subsection-title[_ngcontent-%COMP%]{margin:0 0 20px;font-size:16px;font-weight:600;color:#1f2937}.metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:24px}.metric-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.metric-label[_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:#6b7280}.metric-value[_ngcontent-%COMP%]{margin:0;font-size:18px;color:#1f2937;font-weight:600}.highlight-rating[_ngcontent-%COMP%]{color:#f59e0b}.monthly-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px}.monthly-stat-item[_ngcontent-%COMP%]{flex:1;text-align:center;padding:16px;background-color:#fff;border-radius:10px}.monthly-label[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;margin-bottom:8px;display:block}.monthly-value[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700;color:#10b981}@media (max-width: 1024px){.stats-cards-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.company-details-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.edit-profile-btn[_ngcontent-%COMP%], .edit-actions[_ngcontent-%COMP%]{width:100%}.profile-avatar-section[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.profile-tabs[_ngcontent-%COMP%]{flex-direction:column}.info-grid[_ngcontent-%COMP%], .stats-cards-grid[_ngcontent-%COMP%], .metrics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.monthly-stats[_ngcontent-%COMP%]{flex-direction:column}}']})};export{q as RecruiterProfileComponent};
