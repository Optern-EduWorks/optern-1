import{b as P,c as x,d as N,e as E,f as O,g as k,i as W,j as U,k as T,n as A,o as z}from"./chunk-QUUDTLWW.js";import{d as b}from"./chunk-XUDBPULL.js";import{a as v}from"./chunk-YAEOSTW2.js";import"./chunk-RG4DZT4R.js";import{k as y,r as S}from"./chunk-ZCJ7ANON.js";import{Aa as c,Ga as h,La as C,Wa as f,Xa as n,Ya as i,eb as u,gb as _,lb as o,mb as M,nb as w,pb as s,qb as m,rb as g,ua as a}from"./chunk-3PLKYEVT.js";function L(p,l){if(p&1&&(n(0,"div",34),o(1),i()),p&2){let d=_();a(),M(d.error)}}var I=class p{constructor(l,d){this.router=l;this.auth=d}model={firstName:"",lastName:"",username:"",email:"",password:"",confirmPassword:"",role:"student",university:"",course:""};error=null;loading=!1;onCreateAccount(l){if(l.preventDefault(),this.error=null,this.auth.logout(),this.model.password!==this.model.confirmPassword){this.error="Passwords do not match";return}let d={Username:this.model.username||`${this.model.firstName} ${this.model.lastName}`.trim(),Email:this.model.email,Password:this.model.password,Role:this.model.role??"Candidate",FirstName:this.model.firstName,LastName:this.model.lastName,University:this.model.university,Course:this.model.course,CreatedAt:new Date,UpdatedAt:new Date,Status:"Active",VerificationStatus:"Unverified",PhoneNumber:""};this.loading=!0,this.auth.register(d).subscribe({next:()=>{this.loading=!1,this.router.navigate(["/candidate/sign-in"],{queryParams:{registered:"1",email:this.model.email}})},error:t=>{if(this.loading=!1,t?.status===0){this.error="Unable to contact server. Please try again later.";return}let r=t?.error;r?typeof r=="string"?this.error=r:typeof r.message=="string"?this.error=r.message:this.error=JSON.stringify(r):t?.message?this.error=t.message:this.error="Registration failed"}})}goToSignIn(l){l.preventDefault(),this.router.navigate(["/candidate/sign-in"])}goToHome(l){l.preventDefault(),this.router.navigate(["/"])}static \u0275fac=function(d){return new(d||p)(c(b),c(v))};static \u0275cmp=h({type:p,selectors:[["app-candidate-sign-up"]],decls:61,vars:11,consts:[[1,"signup-container"],[1,"signup-card"],[1,"logo"],[1,"logo-icon"],[1,"title"],[1,"subtitle"],[3,"submit"],[1,"form-row"],[1,"form-group"],["for","firstName"],["type","text","id","firstName","name","firstName","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","lastName"],["type","text","id","lastName","name","lastName","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","name","email","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","role"],["id","role","name","role","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","student"],["value","professional"],["value","recruiter"],["for","university"],["type","text","id","university","name","university","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","course"],["type","text","id","course","name","course","required","",1,"form-input",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["type","submit",1,"submit-button",3,"disabled"],[1,"footer-links"],[1,"signin-link"],["href","#",3,"click"],["href","#",1,"home-link",3,"click"],[1,"error"]],template:function(d,t){d&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o(4,"O"),i()(),n(5,"h1",4),o(6,"Join OPTERN"),i(),n(7,"p",5),o(8,"Create your account and start connecting with opportunities"),i(),n(9,"form",6),u("submit",function(e){return t.onCreateAccount(e)}),n(10,"div",7)(11,"div",8)(12,"label",9),o(13,"First Name"),i(),n(14,"input",10),g("ngModelChange",function(e){return m(t.model.firstName,e)||(t.model.firstName=e),e}),i()(),n(15,"div",8)(16,"label",11),o(17,"Last Name"),i(),n(18,"input",12),g("ngModelChange",function(e){return m(t.model.lastName,e)||(t.model.lastName=e),e}),i()()(),n(19,"div",8)(20,"label",13),o(21,"Email"),i(),n(22,"input",14),g("ngModelChange",function(e){return m(t.model.email,e)||(t.model.email=e),e}),i()(),n(23,"div",7)(24,"div",8)(25,"label",15),o(26,"Password"),i(),n(27,"input",16),g("ngModelChange",function(e){return m(t.model.password,e)||(t.model.password=e),e}),i()(),n(28,"div",8)(29,"label",17),o(30,"Confirm Password"),i(),n(31,"input",18),g("ngModelChange",function(e){return m(t.model.confirmPassword,e)||(t.model.confirmPassword=e),e}),i()()(),n(32,"div",8)(33,"label",19),o(34,"I am a"),i(),n(35,"select",20),g("ngModelChange",function(e){return m(t.model.role,e)||(t.model.role=e),e}),n(36,"option",21),o(37,"Student"),i(),n(38,"option",22),o(39,"Professional"),i(),n(40,"option",23),o(41,"Recruiter"),i()()(),n(42,"div",7)(43,"div",8)(44,"label",24),o(45,"University"),i(),n(46,"input",25),g("ngModelChange",function(e){return m(t.model.university,e)||(t.model.university=e),e}),i()(),n(47,"div",8)(48,"label",26),o(49,"Course/Major"),i(),n(50,"input",27),g("ngModelChange",function(e){return m(t.model.course,e)||(t.model.course=e),e}),i()()(),C(51,L,2,1,"div",28),n(52,"button",29),o(53),i()(),n(54,"div",30)(55,"p",31),o(56," Already have an account? "),n(57,"a",32),u("click",function(e){return t.goToSignIn(e)}),o(58,"Sign in"),i()(),n(59,"a",33),u("click",function(e){return t.goToHome(e)}),o(60,"\u2190 Back to home"),i()()()()),d&2&&(a(14),s("ngModel",t.model.firstName),a(4),s("ngModel",t.model.lastName),a(4),s("ngModel",t.model.email),a(5),s("ngModel",t.model.password),a(4),s("ngModel",t.model.confirmPassword),a(4),s("ngModel",t.model.role),a(11),s("ngModel",t.model.university),a(4),s("ngModel",t.model.course),a(),f("ngIf",t.error),a(),f("disabled",t.loading),a(),w(" ",t.loading?"Creating\u2026":"Create Account"," "))},dependencies:[z,k,U,T,P,W,x,N,A,O,E,S,y],styles:[`.signup-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,#f5f7fa,#e8ecf1);padding:2rem}.signup-card[_ngcontent-%COMP%]{background:#fff;border-radius:24px;box-shadow:0 20px 60px #00000014;padding:3rem 2.5rem;max-width:500px;width:100%}.logo[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1.5rem}.logo-icon[_ngcontent-%COMP%]{width:60px;height:60px;background:linear-gradient(135deg,#7c3aed,#4f46e5);border-radius:16px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:28px;font-weight:700}.title[_ngcontent-%COMP%]{text-align:center;font-size:28px;font-weight:700;color:#1e293b;margin:0 0 .5rem}.subtitle[_ngcontent-%COMP%]{text-align:center;color:#64748b;font-size:14px;margin:0 0 2rem;line-height:1.5}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.25rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#334155;margin-bottom:.5rem}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:1px solid #e2e8f0;border-radius:8px;font-size:14px;color:#1e293b;background:#fff;transition:all .2s ease;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#7c3aed;box-shadow:0 0 0 3px #7c3aed1a}.form-select[_ngcontent-%COMP%]{cursor:pointer;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23334155' d='M6 9L1 4h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 1rem center;padding-right:2.5rem}.submit-button[_ngcontent-%COMP%]{width:100%;padding:.875rem 1.5rem;background:linear-gradient(135deg,#7c3aed,#4f46e5);color:#fff;border:none;border-radius:8px;font-size:15px;font-weight:600;cursor:pointer;transition:all .2s ease;margin-top:.5rem}.submit-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #7c3aed4d}.submit-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.footer-links[_ngcontent-%COMP%]{margin-top:1.5rem;text-align:center}.signin-link[_ngcontent-%COMP%]{font-size:14px;color:#64748b;margin-bottom:.75rem}.signin-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#7c3aed;text-decoration:none;font-weight:600}.signin-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.home-link[_ngcontent-%COMP%]{display:inline-block;font-size:14px;color:#64748b;text-decoration:none;margin-top:.5rem}.home-link[_ngcontent-%COMP%]:hover{color:#334155}@media (max-width: 768px){.signup-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.title[_ngcontent-%COMP%]{font-size:24px}}`]})};export{I as CandidateSignUp};
